import{_ as Q,u as U,s as _,d as v,r as d,a as N,o as X,g as Y,E as Z,b as $,c as aa,e as ta,f as ea,h as o,i as r,j as e,w as s,F as sa,k as a,l as p,t as A,m as f,n as h,p as g,q as la,v as na,x as oa,y as ia}from"./index.d8fece53.js";const da={class:"card-header"},ra={style:{"font-size":"24px"}},ca={class:"info"},ua={class:"info"},_a={class:"card-container"},va={class:"card-left-container",style:{"background-color":"#ff6b6b"}},pa={class:"card-container"},fa={class:"card-left-container",style:{"background-color":"#4ecdc4"}},ha={class:"card-container"},ga={class:"card-left-container",style:{"background-color":"#45b7d1"}},ma={class:"chart-container"},ya={key:0,class:"skeleton-chart"},xa={class:"chart-container"},ka={key:0,class:"skeleton-chart"},wa={class:"chart-container"},ba={key:0,class:"skeleton-chart"},Ca={class:"chart-container"},Da={key:0,class:"skeleton-chart"},Aa={class:"chart-container"},Ea={key:0,class:"skeleton-chart"},Ra={__name:"Index",setup(Pa){const{admin:E,updateAdmin:j}=U(),M=_(v(()=>g(()=>import("./D-Pie.73ee3c5d.js"),["assets/D-Pie.73ee3c5d.js","assets/index.d8fece53.js","assets/index.ad01da36.css","assets/index.743c4e9d.js","assets/D-Pie.dad1106a.css"]))),S=_(v(()=>g(()=>import("./TrendChart.fa2a98fb.js"),["assets/TrendChart.fa2a98fb.js","assets/index.d8fece53.js","assets/index.ad01da36.css","assets/index.743c4e9d.js","assets/TrendChart.fa9b5239.css"]))),W=_(v(()=>g(()=>import("./PieChart.32a4516f.js"),["assets/PieChart.32a4516f.js","assets/index.d8fece53.js","assets/index.ad01da36.css","assets/index.743c4e9d.js","assets/PieChart.e2861deb.css"]))),G=_(v(()=>g(()=>import("./B-TrendChart.2d191f77.js"),["assets/B-TrendChart.2d191f77.js","assets/index.d8fece53.js","assets/index.ad01da36.css","assets/index.743c4e9d.js","assets/B-TrendChart.113cb213.css"]))),H=_(v(()=>g(()=>import("./C-TrendChart.3492ba12.js"),["assets/C-TrendChart.3492ba12.js","assets/index.d8fece53.js","assets/index.ad01da36.css","assets/index.743c4e9d.js","assets/C-TrendChart.aa3ea670.css"]))),R=d(!0),P=d(!0),I=d(!0),T=d(!0),B=d(!0),y=d([]),x=d({}),k=d({}),w=d({}),b=d({}),C=N({}),V=[{value:320,name:"A\u6559"},{value:280,name:"B\u6559"},{value:260,name:"C\u6559"}],z={xData:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],seriesData:[60,67,58.5,61,69,70,75,80,65,70,72,68]},L={xData:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708"],seriesA:[320,300,280,260,380],seriesB:[280,270,250,240,320],seriesC:[260,240,220,200,300]},O={xData:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],seriesData:[70,75,80,65,70,72,68,75,80,65,70,75]},q={xData:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708"],seriesA:[300,320,340,360,380],seriesB:[250,270,290,310,330],seriesC:[200,220,240,260,280]},c=async l=>{if(C[l])return C[l];const t=await la.get(l);return C[l]=t.data,t.data},J=async()=>{try{const[l,t,m,i,n]=await Promise.all([c("/api/energy-pie"),c("/api/power-total"),c("/api/power-building"),c("/api/water-total"),c("/api/water-building")]);console.log("pieRes.data:",l.data),console.log("chart1Res.data:",t.data),console.log("chart2Res.data:",m.data),console.log("chart3Res.data:",i.data),console.log("chart4Res.data:",n.data),y.value=l.data||V,x.value=t.data||z,k.value=m.data||L,w.value=i.data||O,b.value=n.data||q}catch(l){console.error("API\u8BF7\u6C42\u5931\u8D25\uFF0C\u4F7F\u7528\u9ED8\u8BA4\u6570\u636E:",l),y.value=V,x.value=z,k.value=L,w.value=O,b.value=q}finally{setTimeout(()=>{R.value=!1,P.value=!1,I.value=!1,T.value=!1,B.value=!1},500)}};X(async()=>{await Promise.all([K(),J()])});const K=async()=>{let l=await Y();j({username:l.username,avatar:l.avatar})},F=N({loginTime:"2025-05-09 09:00:00",loginPlace:"\u5317\u4EAC"});return(l,t)=>{const m=Z,i=$,n=aa,D=ta,u=ea;return o(),r(sa,null,[e(u,{gutter:20},{default:s(()=>[e(n,{span:6},{default:s(()=>[e(i,{class:"box-card"},{header:s(()=>[a("div",da,[e(m,{class:"avatar",src:p(E).avatar,shape:"square",size:40},null,8,["src"]),a("span",ra,A(p(E).username),1)])]),default:s(()=>[a("div",ca,[a("p",null,"\u767B\u5F55\u65F6\u95F4\uFF1A"+A(F.loginTime),1),a("p",null,"\u767B\u5F55\u5730\u70B9\uFF1A"+A(F.loginPlace),1)])]),_:1})]),_:1}),e(n,{span:18},{default:s(()=>[e(i,{class:"box-card"},{header:s(()=>t[0]||(t[0]=[a("div",{class:"card-header"},[a("span",{style:{"font-size":"18px"}},"\u{1F4CA} 2025\u5E745\u6708\u80FD\u8017\u7EDF\u8BA1")],-1)])),default:s(()=>[a("div",ua,[e(u,{gutter:24},{default:s(()=>[e(n,{span:8},{default:s(()=>[a("div",_a,[a("div",va,[e(D,{size:90,color:"#fff"},{default:s(()=>[e(p(na))]),_:1})]),t[1]||(t[1]=a("div",{class:"card-right-container"},[a("p",{class:"number"},"3,85"),a("p",null,"A\u6559\u603B\u8017\u80FD")],-1))])]),_:1}),e(n,{span:8},{default:s(()=>[a("div",pa,[a("div",fa,[e(D,{size:90,color:"#fff"},{default:s(()=>[e(p(oa))]),_:1})]),t[2]||(t[2]=a("div",{class:"card-right-container"},[a("p",{class:"number"},"520"),a("p",null,"B\u6559\u603B\u8017\u80FD")],-1))])]),_:1}),e(n,{span:8},{default:s(()=>[a("div",ha,[a("div",ga,[e(D,{size:90,color:"#fff"},{default:s(()=>[e(p(ia))]),_:1})]),t[3]||(t[3]=a("div",{class:"card-right-container"},[a("p",{class:"number"},"8,24"),a("p",null,"C\u6559\u603B\u80FD\u8017")],-1))])]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1}),e(u,{gutter:20},{default:s(()=>[e(n,{span:24},{default:s(()=>[e(i,{class:"box-card"},{default:s(()=>[a("div",ma,[R.value?(o(),r("div",ya,t[4]||(t[4]=[a("div",{class:"skeleton-line",style:{width:"80%",margin:"20px auto"}},null,-1),a("div",{class:"skeleton-line",style:{width:"60%",margin:"20px auto"}},null,-1),a("div",{class:"skeleton-circle",style:{margin:"40px auto"}},null,-1)]))):(o(),f(h(M.value),{key:1,data:y.value,style:{height:"400px"}},null,8,["data"]))])]),_:1})]),_:1})]),_:1}),e(u,{gutter:20},{default:s(()=>[e(n,{span:12},{default:s(()=>[e(i,{class:"box-card"},{default:s(()=>[t[6]||(t[6]=a("h3",null,"A\u6559\u672C\u5468\u80FD\u8017\u8D8B\u52BF",-1)),a("div",xa,[P.value?(o(),r("div",ka,t[5]||(t[5]=[a("div",{class:"skeleton-line",style:{width:"80%",margin:"20px auto"}},null,-1),a("div",{class:"skeleton-line",style:{width:"60%",margin:"20px auto"}},null,-1),a("div",{class:"skeleton-lines",style:{margin:"40px auto"}},null,-1)]))):(o(),f(h(S.value),{key:1,"chart-data":x.value,style:{height:"400px"}},null,8,["chart-data"]))])]),_:1})]),_:1}),e(n,{span:12},{default:s(()=>[e(i,{class:"box-card"},{default:s(()=>[t[8]||(t[8]=a("h3",null,"\u672C\u5468\u80FD\u8017\u7C7B\u578B\u5206\u5E03",-1)),a("div",wa,[I.value?(o(),r("div",ba,t[7]||(t[7]=[a("div",{class:"skeleton-line",style:{width:"80%",margin:"20px auto"}},null,-1),a("div",{class:"skeleton-line",style:{width:"60%",margin:"20px auto"}},null,-1),a("div",{class:"skeleton-bars",style:{margin:"40px auto"}},null,-1)]))):(o(),f(h(W.value),{key:1,data:k.value,style:{height:"400px"}},null,8,["data"]))])]),_:1})]),_:1})]),_:1}),e(u,{gutter:20},{default:s(()=>[e(n,{span:12},{default:s(()=>[e(i,{class:"box-card"},{default:s(()=>[t[10]||(t[10]=a("h3",null,"B\u6559\u672C\u5468\u80FD\u8017\u8D8B\u52BF",-1)),a("div",Ca,[T.value?(o(),r("div",Da,t[9]||(t[9]=[a("div",{class:"skeleton-line",style:{width:"80%",margin:"20px auto"}},null,-1),a("div",{class:"skeleton-line",style:{width:"60%",margin:"20px auto"}},null,-1),a("div",{class:"skeleton-lines",style:{margin:"40px auto"}},null,-1)]))):(o(),f(h(G.value),{key:1,data:w.value,style:{height:"400px"}},null,8,["data"]))])]),_:1})]),_:1}),e(n,{span:12},{default:s(()=>[e(i,{class:"box-card"},{default:s(()=>[t[12]||(t[12]=a("h3",null,"C\u6559\u672C\u5468\u80FD\u8017\u8D8B\u52BF",-1)),a("div",Aa,[B.value?(o(),r("div",Ea,t[11]||(t[11]=[a("div",{class:"skeleton-line",style:{width:"80%",margin:"20px auto"}},null,-1),a("div",{class:"skeleton-line",style:{width:"60%",margin:"20px auto"}},null,-1),a("div",{class:"skeleton-bars",style:{margin:"40px auto"}},null,-1)]))):(o(),f(h(H.value),{key:1,data:b.value,style:{height:"400px"}},null,8,["data"]))])]),_:1})]),_:1})]),_:1})],64)}}},Ta=Q(Ra,[["__scopeId","data-v-ad638660"]]);export{Ta as default};
